<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÎØ∏ÎûòÏÑ±Ïû•Ï≤ò ÎåÄÏãúÎ≥¥Îìú</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css" rel="stylesheet">
    <script>window.VITE_API_URL = "https://myteamdashboard.onrender.com";</script>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">ÎØ∏ÎûòÏÑ±Ïû•Ï≤ò ÎåÄÏãúÎ≥¥Îìú</a>
            <div class="ms-auto">
                <a href="admin.html" class="text-white" aria-label="Í¥ÄÎ¶¨Ïûê ÏÑ§Ï†ï">
                    <i class="fas fa-cog fa-lg" aria-hidden="true"></i>
                </a>
            </div>
        </div>
    </nav>

    <div class="container-fluid mt-4">
        <div class="row">
            <!-- ÏóÖÎ¨¥ÏùºÏ†ïÌëú -->
            <div class="col-md-6 mb-4">
                <div class="card">
                    <div class="card-header section-schedule">
                        <h5 class="card-title">ÏóÖÎ¨¥ÏùºÏ†ïÌëú</h5>
                    </div>
                    <div class="card-body section-schedule">
                        <!-- ÏùºÏ†ï Îì±Î°ù Î™®Îã¨(ÌåùÏóÖ) Ï∂îÍ∞Ä -->
                        <div class="modal fade" id="scheduleModal" tabindex="-1">
                          <div class="modal-dialog">
                            <form class="modal-content" id="modalScheduleForm">
                              <div class="modal-header">
                                <h5 class="modal-title">ÏùºÏ†ï Îì±Î°ù</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                              </div>
                              <div class="modal-body">
                                <input type="hidden" id="modalScheduleDate">
                                <div class="mb-3">
                                  <label class="form-label" for="modalScheduleTitle">Ï†úÎ™©</label>
                                  <input type="text" class="form-control" id="modalScheduleTitle" required>
                                </div>
                                <div class="mb-3">
                                  <label class="form-label" for="modalScheduleTime">ÏãúÍ∞Ñ</label>
                                  <input type="time" class="form-control" id="modalScheduleTime" required>
                                </div>
                                <div class="mb-3">
                                  <label class="form-label" for="modalScheduleContent">ÎÇ¥Ïö©</label>
                                  <textarea class="form-control" id="modalScheduleContent" rows="2" required></textarea>
                                </div>
                              </div>
                              <div class="modal-footer">
                                <button type="submit" class="btn btn-success">Îì±Î°ù</button>
                                <button type="button" class="btn btn-danger" id="deleteScheduleBtn" style="display:none;">ÏÇ≠Ï†ú</button>
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Ï∑®ÏÜå</button>
                              </div>
                            </form>
                          </div>
                        </div>
                        <!-- ÏùºÏ†ï Îì±Î°ù ÎπÑÎ∞ÄÎ≤àÌò∏ ÌôïÏù∏ Î™®Îã¨ Ï∂îÍ∞Ä -->
                        <div class="modal fade" id="pwModal" tabindex="-1" aria-labelledby="pwModalLabel" aria-hidden="true">
                          <div class="modal-dialog">
                            <form class="modal-content" id="pwForm">
                              <div class="modal-header">
                                <h5 class="modal-title" id="pwModalLabel">Í¥ÄÎ¶¨Ïûê Ïù∏Ï¶ù</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Îã´Í∏∞"></button>
                              </div>
                              <div class="modal-body">
                                <input type="password" class="form-control" id="pwInput" placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏ ÏûÖÎ†•" required>
                              </div>
                              <div class="modal-footer">
                                <button type="submit" class="btn btn-primary">ÌôïÏù∏</button>
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Ï∑®ÏÜå</button>
                              </div>
                            </form>
                          </div>
                        </div>
                        <!-- ÏùºÏ†ï ÏÉÅÏÑ∏ Î™®Îã¨ -->
                        <div class="modal fade" id="viewScheduleModal" tabindex="-1" aria-labelledby="viewScheduleModalLabel" aria-hidden="true">
                          <div class="modal-dialog">
                            <div class="modal-content">
                              <div class="modal-header">
                                <h5 class="modal-title" id="viewScheduleModalLabel">ÏùºÏ†ï ÏÉÅÏÑ∏</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Îã´Í∏∞"></button>
                              </div>
                              <div class="modal-body">
                                <p id="scheduleDetails"></p>
                              </div>
                              <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Îã´Í∏∞</button>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div id="calendar"></div>
                    </div>
                </div>
            </div>

            <!-- Î¶¨Ïä§ÌÅ¨Ïù¥Ïäà Î™®ÎãàÌÑ∞ÎßÅ -->
            <div class="col-md-6 mb-4">
                <div class="card">
                    <div class="card-header section-risk">
                        <h5 class="card-title">Î¶¨Ïä§ÌÅ¨Ïù¥Ïäà Î™®ÎãàÌÑ∞ÎßÅ</h5>
                    </div>
                    <div class="card-body section-risk">
                        <div id="keywordDisplay" class="mb-3 p-2 bg-light rounded"></div>
                        <div id="newsFeed"></div>
                    </div>
                </div>
            </div>

            <!-- Ï†úÌú¥Ï≤ò ÌÉêÏÉâ -->
            <div class="col-md-6 mb-4">
                <div class="card">
                    <div class="card-header section-partner">
                        <h5 class="card-title">Ï†úÌú¥Ï≤ò ÌÉêÏÉâ</h5>
                    </div>
                    <div class="card-body section-partner">
                        <div id="partnerDisplay" class="mb-3 p-2 bg-light rounded"></div>
                        <div id="partnerResults"></div>
                    </div>
                </div>
            </div>

            <!-- Ïã†Í∏∞Ïà† ÎèôÌñ• -->
            <div class="col-md-6 mb-4">
                <div class="card">
                    <div class="card-header section-tech">
                        <h5 class="card-title">Ïã†Í∏∞Ïà† ÎèôÌñ•</h5>
                    </div>
                    <div class="card-body section-tech">
                        <div id="techDisplay" class="mb-3 p-2 bg-light rounded"></div>
                        <div id="techTrendResults"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ïñ∏Î°†Î≥¥ÎèÑ Ìö®Í≥ºÏÑ± Ï∏°Ï†ï -->
        <div class="row">
            <div class="col-12 mb-4">
                <div class="card">
                    <div class="card-header section-media">
                        <h5 class="card-title">üì∞ Ïñ∏Î°†Î≥¥ÎèÑ Ìö®Í≥ºÏÑ± Ï∏°Ï†ï(ÎÑ§Ïù¥Î≤ÑÎâ¥Ïä§API Í∏∞Ï§Ä)</h5>
                    </div>
                    <div class="card-body section-media">
                        <!-- Í≤ÄÏÉâ Ï°∞Í±¥ Ìå®ÎÑê -->
                        <div class="search-panel mb-4">
                            <div class="row g-3">
                                <div class="col-md-3 col-sm-6">
                                    <label for="mediaKeyword" class="form-label">ÌÇ§ÏõåÎìú</label>
                                    <input type="text" class="form-control" id="mediaKeyword" placeholder="ÌÇ§ÏõåÎìúÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî">
                                </div>
                                <div class="col-md-3 col-sm-6">
                                    <label for="mediaStartDate" class="form-label">ÏãúÏûëÏùº</label>
                                    <input type="date" class="form-control" id="mediaStartDate">
                                </div>
                                <div class="col-md-3 col-sm-6">
                                    <label for="mediaEndDate" class="form-label">Ï¢ÖÎ£åÏùº</label>
                                    <input type="date" class="form-control" id="mediaEndDate">
                                </div>
                                <div class="col-md-3 col-sm-6">
                                    <label for="mediaAggregation" class="form-label">ÏßëÍ≥ÑÎã®ÏúÑ</label>
                                    <select class="form-control" id="mediaAggregation">
                                        <option value="Ïùº">Ïùº</option>
                                        <option value="Ïõî">Ïõî</option>
                                        <option value="Ïó∞">Ïó∞</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-12">
                                    <button type="button" class="btn btn-primary me-2" id="mediaSearchBtn">
                                        <i class="fas fa-search"></i> Í≤ÄÏÉâ
                                    </button>
                                    <button type="button" class="btn btn-outline-primary me-2" id="mediaChartBtn">
                                        <i class="fas fa-chart-bar"></i> Ï∞®Ìä∏Î≥¥Í∏∞
                                    </button>
                                    <button type="button" class="btn btn-outline-success" id="mediaExportBtn">
                                        <i class="fas fa-download"></i> CSVÎã§Ïö¥Î°úÎìú
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Î°úÎî© Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ -->
                        <div id="mediaLoading" class="text-center" style="display: none;">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Î°úÎî© Ï§ë...</span>
                            </div>
                            <p class="mt-2">Îâ¥Ïä§Î•º Í≤ÄÏÉâÌïòÍ≥† ÏûàÏäµÎãàÎã§...</p>
                        </div>

                        <!-- Ï∞®Ìä∏ ÏòÅÏó≠ -->
                        <div id="mediaChartArea" class="mb-4" style="display: none;">
                            <h6 class="mb-3">üìä Îâ¥Ïä§ Í±¥Ïàò ÏßëÍ≥Ñ Ï∞®Ìä∏</h6>
                            <div class="chart-container" style="height: 300px; position: relative;">
                                <canvas id="mediaChart"></canvas>
                            </div>
                        </div>

                        <!-- Îâ¥Ïä§ Î¶¨Ïä§Ìä∏ -->
                        <div id="mediaNewsArea" style="display: none;">
                            <h6 class="mb-3">üìã Îâ¥Ïä§ Î¶¨Ïä§Ìä∏ (<span id="mediaNewsCount">0</span>Í±¥)</h6>
                            <div id="mediaNewsList" class="news-list-container" style="max-height: 400px; overflow-y: auto;"></div>
                        </div>

                        <!-- ÏóêÎü¨ Î©îÏãúÏßÄ -->
                        <div id="mediaError" class="alert alert-danger" style="display: none;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="toast" role="alert" aria-live="polite" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:#333; color:#fff; padding:10px 20px; border-radius:5px; z-index:9999; font-size:1rem;"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/locales/ko.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="/app.js"></script>
    <script>
        let scheduleModal = new bootstrap.Modal(document.getElementById('scheduleModal'));
    </script>
</body>
</html>
